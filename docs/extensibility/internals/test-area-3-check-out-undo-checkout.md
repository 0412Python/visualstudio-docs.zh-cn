---
title: "测试区域 3： 检查传出撤消签出 |Microsoft 文档"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology: vs-ide-sdk
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- source control plug-ins, checkout
- source control plug-ins, undo checkout
- source control [Visual Studio SDK], checking out
- source control [Visual Studio SDK], undo checkout
ms.assetid: ce00c5a5-d472-4f45-8776-d77a1fbe9d37
caps.latest.revision: "16"
author: gregvanl
ms.author: gregvanl
manager: ghogen
ms.openlocfilehash: 74f2c8d5589eb4e8a3df9accdd85109e9858920d
ms.sourcegitcommit: f40311056ea0b4677efcca74a285dbb0ce0e7974
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/31/2017
---
# <a name="test-area-3-check-outundo-checkout"></a>测试区域 3： 签出/撤消签出
此源代码管理插件测试区域涉及通过版本存储中的编辑和恢复项目**签出**和**撤消签出**命令。  
  
 **签出**： 标记版本存储区中的项签出，将会修改为读/写的本地副本。  
  
 **撤消签出**： 标记为已检查的版本存储区中的项，将还原到前 （具体取决于选项） 签出状态的本地副本。  
  
## <a name="command-menu-access"></a>命令菜单访问  
 以下[!INCLUDE[vsprvs](../../code-quality/includes/vsprvs_md.md)]集成的开发环境菜单路径使用的测试用例。  
  
##### <a name="check-out"></a>退房：  
  
-   **文件**，**源代码管理**，**签出**。  
  
-   **文件**，**签出**。  
  
-   快捷菜单上，**签出**。  
  
-   撤消签出：**文件**，**源代码管理**，**撤消签出**。  
  
## <a name="common-expected-behavior"></a>常见的预期的行为  
  
-   在签出操作之后, 的目标文件和/或文件夹被标记为版本存储区中签出。  
  
-   版本存储区特性以正确的用户签出。  
  
-   签出的日期和时间正确 （每个用户的设置）。  
  
## <a name="test-cases"></a>测试用例  
 以下是有关签出/撤消签出测试区域的特定测试用例。  
  
### <a name="case-3a-check-out"></a>案例 3a： 签出  
 本部分重点介绍签出命令的操作。  
  
|操作|测试步骤|若要验证的预期的结果|  
|------------|----------------|--------------------------------|  
|检查出独占 (COE) 客户端项目|1.创建客户端项目。<br />2.将解决方案添加到源代码管理。<br />3.以独占方式签出整个项目 (**文件**，**签出**)。|签出时发生。|  
|签出独占 (COE)，文件系统或本地 IIS Web 项目|1.设置文件共享中的 Web 服务器连接**工具**，**选项**，**项目**， **Web 设置**。<br />2.创建 Web 项目。<br />3.将解决方案添加到源代码管理。<br />4.以独占方式签出整个项目 (**文件**，**源代码管理**，**签出**)。|签出时发生。|  
|签出解决方案 （新方法，用于处理其他文件） 中的解决方案项|1.创建一个空白解决方案。<br />2.将解决方案添加到源代码管理。<br />3.签出解决方案。<br />4.添加多个解决方案项。<br />5.签入所有新添加的项。<br />6.选择多个解决方案项。<br />7.请查看所选项目 (快捷菜单上，**签出**)。|选定的文件已签出。|  
|检查出本地版本 （如果所测试插件支持此功能）|1.用户 1： 创建客户端项目。<br />2.用户 1： 将解决方案添加到源代码管理。<br />3.用户 2： 从源代码管理打开的解决方案到另一个位置。<br />4.用户 2： 签出文件。<br />5.用户 2： 修改文件。<br />6.用户 2： 签入该文件。<br />7.用户 1： 签出文件的本地版本 (检查**检查本地版本**高级选项中的**签出**对话框)。|本地版本的文件已签出。<br /><br /> 由用户 2 的修改不应用于用户 1 文件。|  
  
### <a name="case-3b-disconnected-check-out"></a>案例 3b： 断开连接签出  
 在断开连接模式下操作允许用户一定程度的持续的源控件支持在不连接直接到的版本存储区时。 这可通过本地缓存有关的登记的解决方案和项目的所有相关信息。  
  
 连接到源代码管理存储区时，才可以进行独占签出操作。 是否连接或断开连接，可以在任何时候，发生共享的签出操作。 因此，当从版本存储区仅断开连接**检查出共享**(CO) 启用命令。 断开连接时，**撤消签出**被禁用，因为无法检索旧的版本替换由用户进行的更改。  
  
 当用户重新连接到版本存储的所有登记解决方案签出状态和同步项目。 此命令为用户执行签出的作用到存储区所需更新。 一旦发生同步，用户将能够继续按正常工作 （连接）。  
  
#### <a name="expected-behavior"></a>预期的行为  
  
-   不能使用**检查出以独占方式**命令时从版本存储断开连接。  
  
-   不能使用**撤消签出**命令时从版本存储断开连接。  
  
-   **共享签出**命令有效。  
  
|操作|测试步骤|若要验证的预期的结果|  
|------------|----------------|--------------------------------|  
|断开连接时，签出文件，然后将连接用于的同步|1.断开连接使用更改源代码管理对话框中为受控的项目 (**文件**，**源代码管理**，**更改源 Contro**l)。<br />2.签出文件。<br />3.单击签出 （断开连接） 在警告对话框中。<br />4.编辑文件。<br />5.使用更改源代码管理对话框中进行连接。<br />6.获取最新版本的已编辑的文件。|常见的预期的行为|  
  
### <a name="case-3c-query-editquery-save-qeqs"></a>案例 3 c： 查询编辑/查询保存 (QEQS)  
 在源代码管理下的项进行跟踪的更改的编辑和保存帮助用户轻松管理他们的文件。 当编辑"签入"的受控的项时，QEQS 截获尝试的编辑，并询问用户是否他想要签出该文件以对其进行编辑。 具体取决于**工具**，**选项**设置，用户是强制检查出若要编辑的文件，也不可能允许编辑在内存中的副本和更高版本签出。 如果用户的**工具**，**选项**设置未设置以显示该签出对话框并只需签出，然后随着用户工作他编辑，该文件自动签出，只要有可能。  
  
#### <a name="expected-behavior"></a>预期的行为  
  
-   在签出操作之后, 的目标文件和/或文件夹被标记为版本存储区中签出。  
  
-   版本存储区特性以正确的用户签出。  
  
-   签出的日期和时间正确 （每个用户的设置）。  
  
-   目标文件或文件夹的本地副本是可写。  
  
|操作|测试步骤|若要验证的预期的结果|  
|------------|----------------|--------------------------------|  
|编辑签入的文本文件|1.创建一个包含文本文件的新项目。<br />2.将解决方案添加到源代码管理。<br />3.设置**工具**，**选项**，**源代码管理**，**允许文件期间磁盘上以只读方式编辑**为未选中状态。<br />4.设置**工具**，**选项**，**源代码管理**，**提示输入签出**中**在签入将编辑的文件**组合框。<br />5.设置**工具**，**选项**，**源代码管理**，**提示输入签出**中**时签入文件将保存**组合框。<br />6.在编辑器中打开文本文件，尝试在文件中键入新文本。 如果此步骤成功，则继续下一步。<br />7.单击**取消**中**签出以进行编辑**对话框。 如果此步骤成功，则继续下一步。<br />8.设置**工具**，**选项**，**源代码管理**，**允许文件期间磁盘上以只读方式编辑**为已选中。<br />9.在编辑器中打开项目文件，尝试在文件中键入新文本。 如果此步骤成功，则继续下一步。<br />10.单击**编辑**中**签出以进行编辑**对话框。 如果此步骤成功，则继续下一步。<br />11.编辑文本文件并尝试将其保存。|`Result of step 6:`<br /><br /> 编辑对话框中将显示，则签出。<br /><br /> `Result of step 7:`<br /><br /> 文件保持不变。<br /><br /> `Result of step 9:`<br /><br /> 编辑对话框中将显示，则签出。<br /><br /> `Result of step 10:`<br /><br /> 你可以编辑在内存中的项目文件。<br /><br /> `Result of step 11:`<br /><br /> 在保存，该签出上的保存对话框中会出现。|  
|编辑签入的解决方案文件|重复在以前所述的步骤测试，但更改解决方案属性，而不是修改文本文件时，修改解决方案。|与以前的测试相同|  
|编辑签入的项目文件|重复在以前所述的步骤测试，但更改项目属性，而不是修改文本文件时，修改项目。|与以前的测试相同。|  
  
### <a name="case-3d-silent-check-out"></a>案例三维： 无提示签出  
 此子区域介绍签出方案其中**签出**每个用户的不显示对话框**工具**，**选项**，**源代码管理设置**.  
  
#### <a name="expected-behavior"></a>预期的行为  
  
-   在签出操作之后, 的目标文件和/或文件夹被标记为版本存储区中签出。  
  
-   版本存储区特性以正确的用户签出。  
  
-   签出的日期和时间正确 （每个用户的设置）。  
  
-   目标文件或文件夹的本地副本是可写。  
  
|操作|测试步骤|若要验证的预期的结果|  
|------------|----------------|--------------------------------|  
|无提示签出文件|1.设置**工具**，**选项**，**源代码管理**到**自动上编辑签出文件**。<br />2.使用的文件创建新项目。<br />3.将解决方案添加到源代码管理。<br />4.签出该文件。|文件已签出以无提示方式 (无 UI)。|  
|项目的的无提示签出|1.设置**工具**，**选项**，**源代码管理**到**自动上编辑签出文件**。<br />2.创建新项目。<br />3.将解决方案添加到源代码管理。<br />4.签出该项目。|文件已签出以无提示方式 (无 UI)。|  
  
### <a name="case-3e-undo-check-out"></a>案例 3e： 撤消签出  
 **撤消签出**用于取消文件签出状态并避免对文件所做的更改签入。  
  
#### <a name="expected-behavior"></a>预期的行为  
  
-   默认值基于用户的**签出本地版本**设置。 如果用户已选择签出本地版本，则默认值为撤消签出始终恢复到签出的版本。  
  
-   在接受的撤消中的图标**解决方案资源管理器**会更新受影响的文件和项从**挂起签入**窗口。  
  
|操作|测试步骤|若要验证的预期的结果|  
|------------|----------------|--------------------------------|  
|撤消签出以独占方式签出单文件|1.创建客户端项目。<br />2.将解决方案添加到源代码管理。<br />3.以独占方式签出文件。<br />4.修改文件。<br />5.撤消签出操作 (**文件**，**源代码管理**，**撤消签出**)。|常见的预期的行为。|  
|撤消签出被签出共享的单个文件|1.创建客户端项目。<br />2.将解决方案添加到源代码管理。<br />3.签出文件共享。<br />4.修改文件。<br />5.撤消签出操作 (**文件**，**源代码管理**，**撤消签出**)。|常见的预期的行为。|  
|向项目添加文件后撤消签出的一个项目|1.创建新项目并将其添加到源代码管理。<br />2.签出该项目。<br />3.将文件添加到项目。<br />4.撤消签出的项目。|从解决方案资源管理器中的项目中删除添加的文件。<br /><br /> 项目不再签出。|  
|从项目中删除文件后撤消签出的一个项目|1.创建新项目并将其添加到源代码管理。<br />2.签出该项目。<br />3.从项目中删除文件。<br />4.撤消签出的项目。|已删除的文件将出现在解决方案资源管理器中的项目下。<br /><br /> 项目不再签出。|  
  
## <a name="see-also"></a>另请参阅  
 [源代码管理插件的测试指南](../../extensibility/internals/test-guide-for-source-control-plug-ins.md)