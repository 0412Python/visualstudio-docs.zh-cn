---
title: 从资源清单 |Microsoft 文档
ms.custom: ''
ms.date: 11/04/2016
ms.topic: conceptual
ms.assetid: 0234109b-5dcb-4d9d-acb9-a63f8bd5699c
author: gregvanl
ms.author: gregvanl
manager: douge
ms.workload:
- vssdk
ms.openlocfilehash: 514135e5c6ba932d7b3b4319dd39c1df4e8cb212
ms.sourcegitcommit: 6a9d5bd75e50947659fd6c837111a6a547884e2a
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/16/2018
ms.locfileid: "31134272"
---
# <a name="manifest-from-resources"></a>从资源清单
从资源工具清单是一个控制台应用程序，它接受图像资源 （.png 或.xaml 文件） 的列表，并生成.imagemanifest 文件，以允许这些映像用于 Visual Studio 映像服务。 此外，可以使用此工具将映像添加到现有.imagemanifest。 此工具可用于添加到 Visual Studio 扩展的映像支持高 DPI 和主题。 应包括在生成的.imagemanifest 文件，并将其部署为 Visual Studio 扩展 (.vsix) 的一部分。  
  
## <a name="how-to-use-the-tool"></a>如何使用该工具  
 **语法**  
  
 ManifestFromResources /resources:\<Dir1 >;\<Img1 > /assembly:\<程序集名称 >\<可选参数 >  
  
 **参数**  
  
||||  
|-|-|-|  
|**交换机名称**|**备注**|**必需或可选**|  
|/resources|以分号分隔的图像或目录列表。 此列表应始终包含将在清单中的映像的完整列表。 如果只提供部分列表，则未包含的条目将会丢失。<br /><br /> 如果给定的资源文件的图像条，该工具将将其拆分到单独的图像添加到清单的每个 subimage 之前。<br /><br /> 如果图像是.png 文件，我们建议如下名称格式，以便该工具可以在正确的映像属性中填充：\<名称 >。\<宽度 >。\<高度 >.png。|必需|  
|/assembly|（不包括扩展名） 的托管程序集或托管的资源 （相对于该清单的运行时的位置） 的本机程序集的运行时路径的名称。|必需|  
|/manifest|要向生成的.imagemanifest 文件的名称。 这也包括绝对或相对路径以在不同的位置创建文件。 默认名称匹配的程序集名称。<br /><br /> 默认值：\<当前目录 >\\< 程序集\>.imagemanifest|Optional|  
|/guidName|要为所有生成的清单中的映像的 GUID 符号的名称。<br /><br /> 默认： AssetsGuid|Optional|  
|/rootPath|需要在创建托管的资源 Uri 之前脱离根路径。 （此标志旨在帮助工具其中获取相对的 URI 路径错误，导致无法加载的资源的情况。）<br /><br /> 默认值：\<当前目录 >|Optional|  
|/recursive|设置此标志指示该工具以递归方式搜索 /resources 自变量中的任何目录。 忽略此标志会导致 top-等级等级仅搜索的目录。|Optional|  
|/isNative|本机程序集的路径的程序集自变量时，请设置此标志。 当程序集自变量是托管程序集的名称，请忽略此标志。 （请参阅注释部分中有关此标志的其他信息。）|Optional|  
|/newGuids|设置此标志指示该工具创建的映像的 GUID 符号而不是合并现有清单中的一个新的值。|Optional|  
|/newIds|设置此标志指示该工具创建的每个映像而不是将现有的清单中的值合并的新 ID 符号值。|Optional|  
|/noLogo|设置此标志将停止打印的产品和版权信息。|Optional|  
|/?|打印出帮助信息。|Optional|  
|/help|打印出帮助信息。|Optional|  
  
 **示例**  
  
-   ManifestFromResources /resources:D:\Images /assembly:My.Assembly.Name /isNative  
  
-   ManifestFromResources /resources:D:\Images\Image1.png;D:\Images\Image1.xaml /assembly:My.Assembly.Name /manifest:MyImageManifest.imagemanifest  
  
-   ManifestFromResources /resources:D:\Images\Image1.png;D:\Images\Image1.xaml /assembly:My.Assembly.Name /guidName:MyImages /newGuids /newIds  
  
## <a name="notes"></a>说明  
  
-   此工具仅支持.png 和.xaml 文件。 任何其他图像或文件类型将被忽略。 为分析资源时遇到的所有不受支持的类型生成一个警告。 如果不支持此映像找到该工具完成时分析资源，就将生成错误  
  
-   按照.png 图像的建议的格式，该工具将大小/维度将值设置为.png 为格式指定的大小，即使它不同于图像的实际大小。  
  
-   宽度/高度格式，则可以省略对于.png 映像，但该工具将读取图像的实际宽度/高度，并将其用于图像的大小/维度值。  
  
-   相同的映像栏为相同.imagemanifest 多次运行此工具将会导致重复的清单项，因为该工具尝试将图像条拆分为独立图像并添加到现有的清单。  
  
-   对于工具生成的清单仅应完成合并 （省略 /newGuids 或 /newIds）。 已自定义或通过其他方式生成的清单可能不正确合并。  
  
-   为本机程序集生成的清单可能需要手动编辑后生成要使匹配的资源 Id 从本机程序集的.rc 文件 ID 符号。  
  
## <a name="sample-output"></a>示例输出  
 **简单的映像清单**  
  
 图像清单将类似于此.xml 文件：  
  
```xml  
<?xml version="1.0" encoding="utf-8"?>  
<!-- This file was generated by the ManifestFromResources tool.-->  
<!-- Version: 14.0.15197 -->  
<ImageManifest xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://schemas.microsoft.com/VisualStudio/ImageManifestSchema/2014">  
  <Symbols>  
    <String Name="Resources" Value="/My.Assembly.Name;Component/Resources/Images" />  
    <Guid Name="AssetsGuid" Value="{fb41b7ef-6587-480c-aa27-5b559d42cfc9}" />  
    <ID Name="MyImage" Value="0" />  
  </Symbols>  
  <Images>  
    <Image Guid="$(AssetsGuid)" ID="$(MyImage)">  
      <Source Uri="$(Resources)/Xaml/MyImage.xaml" />  
      <Source Uri="$(Resources)/Png/MyImage.16.16.png">  
        <Size Value="16" />  
      </Source>  
    </Image>  
  </Images>  
  <ImageLists />  
</ImageManifest>  
```  
  
 **图像的图像条清单**  
  
 图像条图像清单将类似于此.xml 文件：  
  
```xml  
<?xml version="1.0" encoding="utf-8"?>  
<!-- This file was generated by the ManifestFromResources tool.-->  
<!-- Version: 14.0.15197 -->  
<ImageManifest xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://schemas.microsoft.com/VisualStudio/ImageManifestSchema/2014">  
  <Symbols>  
    <String Name="Resources" Value="/My.Assembly.Name;Component/Resources/ImageStrip" />  
    <Guid Name="AssetsGuid" Value="{fb41b7ef-6587-480c-aa27-5b559d42cfc9}" />  
    <ID Name="MyImageStrip_0" Value="1" />  
    <ID Name="MyImageStrip_1" Value="2" />  
    <ID Name="MyImageStrip" Value="3" />  
  </Symbols>  
  <Images>  
    <Image Guid="$(AssetsGuid)" ID="$(MyImageStrip_0)">  
      <Source Uri="$(Resources)/MyImageStrip_0.png">  
        <Size Value="16" />  
      </Source>  
    </Image>  
    <Image Guid="$(AssetsGuid)" ID="$(MyImageStrip_1)">  
      <Source Uri="$(Resources)/MyImageStrip_1.png">  
        <Size Value="16" />  
      </Source>  
    </Image>  
  </Images>  
  <ImageLists>  
    <ImageList Guid="$(AssetsGuid)" ID="$(MyImageStrip)">  
      <ContainedImage Guid="$(AssetsGuid)" ID="$(MyImageStrip_0)" />  
      <ContainedImage Guid="$(AssetsGuid)" ID="$(MyImageStrip_1)" />  
    </ImageList>  
  </ImageLists>  
</ImageManifest>  
```  
  
 **本机程序集图像资源的图像清单**  
  
 本机映像的程序映像清单将类似于此.xml 文件：  
  
```xml  
<?xml version="1.0" encoding="utf-8"?>  
<!-- This file was generated by the ManifestFromResources tool.-->  
<!-- Version: 14.0.15198 -->  
<ImageManifest xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://schemas.microsoft.com/VisualStudio/ImageManifestSchema/2014">  
  <Symbols>  
    <String Name="Resources" Value="..\Assembly\Folder\My.Assembly.Name" />  
    <Guid Name="AssetsGuid" Value="{442d8739-efde-46a4-8f29-e3a1e5e7f8b4}" />  
    <ID Name="MyImage1" Value="0" />  
    <ID Name="MyImage2" Value="1" />  
  </Symbols>  
  <Images>  
    <Image Guid="$(AssetsGuid)" ID="$(MyImage1)">  
      <Source Uri="$(Resources)">  
        <Size Value="16" />  
        <NativeResource ID="$(MyImage1)" Type="PNG" />  
      </Source>  
    </Image>  
    <Image Guid="$(AssetsGuid)" ID="$(MyImage2)">  
      <Source Uri="$(Resources)">  
        <Size Value="16" />  
        <NativeResource ID="$(MyImage2)" Type="PNG" />  
      </Source>  
    </Image>  
  </Images>  
  <ImageLists />  
</ImageManifest>  
```