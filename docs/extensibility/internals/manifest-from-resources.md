---
title: "从资源清单 | Microsoft Docs"
ms.custom: ""
ms.date: "11/04/2016"
ms.reviewer: ""
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: 0234109b-5dcb-4d9d-acb9-a63f8bd5699c
caps.latest.revision: 4
ms.author: "gregvanl"
manager: "ghogen"
caps.handback.revision: 4
---
# 从资源清单
[!INCLUDE[vs2017banner](../../code-quality/includes/vs2017banner.md)]

从资源工具清单是一个控制台应用程序，它接受图像资源 \(.png 或.xaml 文件\) 的列表，并将生成一个.imagemanifest 文件允许这些映像用于 Visual Studio 图像服务。 此外，可以使用此工具将映像添加到现有.imagemanifest。 此工具可用于添加映像添加到 Visual Studio 扩展为支持高 DPI 和主题。 应该包括在生成的.imagemanifest 文件，并将其部署为 Visual Studio 扩展 \(.vsix\) 的一部分。  
  
## 如何使用该工具  
 **语法**  
  
 ManifestFromResources \/resources: \< Dir1 \>; \< Img1 \> \/assembly: \< 程序集名称 \>\< 可选参数 \>  
  
 **参数**  
  
||||  
|-|-|-|  
|**交换机名称**|**备注**|**必需或可选**|  
|\/resources|以分号分隔的图像或目录的列表。 此列表应始终包含将在清单中的图像的完整列表。 如果只提供部分列表，不包括的项都将丢失。<br /><br /> 如果给定的资源文件是一个图像条，该工具将拆分为单独的图像添加到清单的每个 subimage 之前。<br /><br /> 如果该图像是.png 文件，我们建议像这样的名称格式，这样该工具可以填入正确的映像属性: \< 名称 \>。 \< 宽度 \>。 \< 高度 \>.png。|必需|  
|\/assembly|\(不包括扩展名\) 的托管程序集或本机程序集 \(相对于该清单的运行时位置\) 资源的宿主的运行时路径的名称。|必需|  
|\/manifest|要授予对生成的.imagemanifest 文件的名称。 这可能包括要在不同的位置创建文件绝对或相对路径。 该默认名称匹配的程序集名称。<br /><br /> 默认值: \< 当前目录 \> \\ \< 程序集 \>.imagemanifest|可选|  
|\/guidName|要为所有生成的清单中的图像在 GUID 符号的名称。<br /><br /> 默认值: AssetsGuid|可选|  
|\/rootPath|需要在创建托管的资源 Uri 之前去掉根路径。 \(此标志旨在帮助与用例，该工具获取相对的 URI 路径错误，导致无法加载的资源。\)<br /><br /> 默认值: \< 当前目录 \>|可选|  
|\/recursive|设置此标志指示该工具以递归方式搜索 \/resources 参数中的任何目录。 忽略此标志将导致顶级\-等级等级仅搜索的目录。|可选|  
|\/isNative|当程序集参数是本机程序集的路径时，请设置此标志。 当程序集参数是托管程序集的名称时，请忽略此标志。 \(请参阅有关此标志的其他信息注释部分。\)|可选|  
|\/newGuids|设置此标志指示该工具创建映像在 GUID 符号而不是合并的一个现有清单中的新值。|可选|  
|\/newIds|设置此标志指示该工具来创建新的每个映像而不是合并现有清单中的值的 ID 符号值。|可选|  
|\/noLogo|设置此标志将停止打印的产品和版权信息。|可选|  
|\/?|打印出的帮助信息。|可选|  
|\/help|打印出的帮助信息。|可选|  
  
 **示例**  
  
-   ManifestFromResources \/resources:D:\\Images \/assembly:My.Assembly.Name \/isNative  
  
-   ManifestFromResources \/resources:D:\\Images\\Image1.png;D:\\Images\\Image1.xaml \/assembly:My.Assembly.Name \/manifest:MyImageManifest.imagemanifest  
  
-   ManifestFromResources \/resources:D:\\Images\\Image1.png;D:\\Images\\Image1.xaml \/assembly:My.Assembly.Name \/guidName:MyImages \/newGuids \/newIds  
  
## 备注  
  
-   此工具仅支持.png 和.xaml 文件。 将忽略任何其他图像或文件类型。 对于分析资源时遇到的所有不受支持类型生成一个警告。 如果不支持图像会找出完成该工具分析资源，就会生成错误  
  
-   通过遵循建议的格式为.png 图像，该工具将大小\/维度将值设置.png 格式指定的大小，即使它不同于图像的实际大小。  
  
-   宽度\/高度格式，则可以省略对于.png 图像，但该工具将读取该图像的实际宽度\/高度，并使用这些图像的大小\/维度值。  
  
-   在同一个图像条多次相同.imagemanifest 上运行此工具将会导致重复的清单条目，因为该工具尝试将拆分到独立图像的图像条，然后将它们添加到现有的清单。  
  
-   合并 \(忽略 \/newGuids 或 \/newIds\) 只应进行工具生成的清单。 不可能正确合并已自定义或通过其他方式生成的清单。  
  
-   为本机程序集生成的清单可能需要手动编辑生成要匹配的资源 Id 从本机程序集的.rc 文件的 ID 符号之后。  
  
## 示例输出  
 **简单的映像清单**  
  
 图像清单将类似于此.xml 文件:  
  
```xml  
<?xml version="1.0" encoding="utf-8"?> <!-- This file was generated by the ManifestFromResources tool.--> <!-- Version: 14.0.15197 --> <ImageManifest xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://schemas.microsoft.com/VisualStudio/ImageManifestSchema/2014"> <Symbols> <String Name="Resources" Value="/My.Assembly.Name;Component/Resources/Images" /> <Guid Name="AssetsGuid" Value="{fb41b7ef-6587-480c-aa27-5b559d42cfc9}" /> <ID Name="MyImage" Value="0" /> </Symbols> <Images> <Image Guid="$(AssetsGuid)" ID="$(MyImage)"> <Source Uri="$(Resources)/Xaml/MyImage.xaml" /> <Source Uri="$(Resources)/Png/MyImage.16.16.png"> <Size Value="16" /> </Source> </Image> </Images> <ImageLists /> </ImageManifest>  
```  
  
 **图像的图像条清单**  
  
 一个图像条程序图像清单将类似于此.xml 文件:  
  
```xml  
<?xml version="1.0" encoding="utf-8"?> <!-- This file was generated by the ManifestFromResources tool.--> <!-- Version: 14.0.15197 --> <ImageManifest xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://schemas.microsoft.com/VisualStudio/ImageManifestSchema/2014"> <Symbols> <String Name="Resources" Value="/My.Assembly.Name;Component/Resources/ImageStrip" /> <Guid Name="AssetsGuid" Value="{fb41b7ef-6587-480c-aa27-5b559d42cfc9}" /> <ID Name="MyImageStrip_0" Value="1" /> <ID Name="MyImageStrip_1" Value="2" /> <ID Name="MyImageStrip" Value="3" /> </Symbols> <Images> <Image Guid="$(AssetsGuid)" ID="$(MyImageStrip_0)"> <Source Uri="$(Resources)/MyImageStrip_0.png"> <Size Value="16" /> </Source> </Image> <Image Guid="$(AssetsGuid)" ID="$(MyImageStrip_1)"> <Source Uri="$(Resources)/MyImageStrip_1.png"> <Size Value="16" /> </Source> </Image> </Images> <ImageLists> <ImageList Guid="$(AssetsGuid)" ID="$(MyImageStrip)"> <ContainedImage Guid="$(AssetsGuid)" ID="$(MyImageStrip_0)" /> <ContainedImage Guid="$(AssetsGuid)" ID="$(MyImageStrip_1)" /> </ImageList> </ImageLists> </ImageManifest>  
```  
  
 **本机程序集图像资源的图像清单**  
  
 本机映像的映像清单将类似于此.xml 文件:  
  
```xml  
<?xml version="1.0" encoding="utf-8"?> <!-- This file was generated by the ManifestFromResources tool.--> <!-- Version: 14.0.15198 --> <ImageManifest xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://schemas.microsoft.com/VisualStudio/ImageManifestSchema/2014"> <Symbols> <String Name="Resources" Value="..\Assembly\Folder\My.Assembly.Name" /> <Guid Name="AssetsGuid" Value="{442d8739-efde-46a4-8f29-e3a1e5e7f8b4}" /> <ID Name="MyImage1" Value="0" /> <ID Name="MyImage2" Value="1" /> </Symbols> <Images> <Image Guid="$(AssetsGuid)" ID="$(MyImage1)"> <Source Uri="$(Resources)"> <Size Value="16" /> <NativeResource ID="$(MyImage1)" Type="PNG" /> </Source> </Image> <Image Guid="$(AssetsGuid)" ID="$(MyImage2)"> <Source Uri="$(Resources)"> <Size Value="16" /> <NativeResource ID="$(MyImage2)" Type="PNG" /> </Source> </Image> </Images> <ImageLists /> </ImageManifest>  
```