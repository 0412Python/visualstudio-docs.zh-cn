---
title: "内核视图图例 | Microsoft Docs"
ms.custom: ""
ms.date: "12/03/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-debug"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "vs.cv.cores.legend"
helpviewer_keywords: 
  - "并发可视化工具, 内核视图图例"
ms.assetid: e160384c-fcfe-49b3-86b7-229adb736c51
caps.latest.revision: 12
caps.handback.revision: 12
author: "mikejo5000"
ms.author: "mikejo"
manager: "ghogen"
---
# 内核视图图例
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

内核视图图例通过颜色和名称标识每个线程。  它包括的列显示跨内核上下文切换计数、上下文切换总数以及跨内核的上下文切换百分比。  此图例中的行是按跨内核上下文切换次数的降序排序的。  
  
 可以选择此图例中的行筛选在时间线上显示的线程。  仅选择的线程中显示时间线。  如果未选中任何行，则所有行中显示时间线。  
  
 在开销和性能成本方面，跨内核上下文切换所消耗的资源比那些保留在同一逻辑内核上的上下文切换高得多。  在上下文切换过程中，处理器寄存器保存和还原，操作系统内核代码执行，将缓冲区后援输入，重载，并刷新处理器管道。  因为数据对其他核心的线程，缓存此无效跨内核上下文切换。其他上下文切换的开销更大。  相反，如果线程上下文切换到核心中它了以前运行，可能会有用数据仍在缓存中。  当跨核心上下文切换已增加的尝试来管理线程的亲和力和性能下降，考虑是否要解决这个问题。  通过消除线程关联开始，然后观察跨内核的结果行为。  
  
 下表对图例元素进行了说明。  
  
|元素|定义|  
|--------|--------|  
|线程名|显示上述内核时间线中线程的颜色以及该线程的名称。|  
|跨内核上下文切换|在逻辑内核之间进行切换的某个线程的上下文切换次数。  不区分来自处理器与中断到另一个与在同一保持这些中断的跨内核上下文切换。|  
|上下文切换总数|采样期间给定线程的上下文切换总数。  每次线程更改上下文时（例如，从执行到同步），就会计为一次上下文切换。|  
|跨内核上下文切换百分比|通过将跨内核上下文切换次数除以上下文切换总数计算而得的百分比。  此百分比越高，跨内核上下文切换的开销对此特定线程的性能的总体影响越大。|  
  
## 请参阅  
 [内核视图](../profiling/cores-view.md)