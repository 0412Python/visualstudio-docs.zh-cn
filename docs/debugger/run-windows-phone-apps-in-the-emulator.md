---
title: "在仿真程序中运行 Windows Phone 应用 | Microsoft Docs"
ms.custom: ""
ms.date: "12/03/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-debug"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "FSharp"
  - "VB"
  - "CSharp"
  - "C++"
ms.assetid: c7590788-beb3-403c-a7dd-18472a9e585e
caps.latest.revision: 8
caps.handback.revision: 8
author: "mikejo5000"
ms.author: "mikejo"
manager: "ghogen"
---
# 在仿真程序中运行 Windows Phone 应用
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

![仅适用于 Windows Phone](../debugger/media/phone_only_content.png "phone\_only\_content")  
  
 Windows Phone 仿真程序是一个可模拟 Windows Phone 的桌面应用程序。该仿真程序提供了一个虚拟环境，你可以在其中调试并测试计算机上的 Windows Phone 应用，而无需使用物理设备。你可以模拟常用的触摸和旋转事件，还可以选择要模拟的物理屏幕大小和分辨率。还可以测试许多常用的功能，例如定位、网络、通知、传感器、加速计以及可选的 SD 卡。  
  
 有关可在仿真程序中测试的功能的详细信息，请参阅[在 Windows Phone 仿真程序中测试应用功能](http://msdn.microsoft.com/zh-cn/c1b2b0ec-b8cc-4a98-84c1-701428e45cb1)。  
  
 该仿真程序与 Visual Studio 相结合形成一个完整的环境，从中可设计、开发、调试和测试 Windows Phone 应用。  
  
## 在本主题中  
  
-   [在仿真程序中运行 Windows Phone 应用](#BKMK_run)  
  
    -   [从 Visual Studio 运行应用](#BKMK_vs)  
  
    -   [使用应用程序部署工具运行应用](#BKMK_depltool)  
  
-   [通过仿真程序工具栏配置 Windows Phone 仿真程序](#BKMK_toolbar)  
  
-   [在仿真程序上使用模拟的硬件按钮](#BKMK_buttons)  
  
-   [将计算机键盘与仿真程序一起使用](#BKMK_tasks_kbd)  
  
-   [保存并加载自定义检查点](#BKMK_checkpoints)  
  
-   [在仿真程序中捕获屏幕快照](#BKMK_tasks_shot)  
  
##  <a name="BKMK_run"></a> 在仿真程序中运行 Windows Phone 应用  
 在开发 Windows Phone 应用时，可使用 Windows Phone 仿真程序来快速部署和测试应用。然而，建议你在 Windows Phone 应用商店中发布应用之前，先在实际的 Windows Phone 设备上测试该应用。这可让你像用户那样体验应用。  
  
 当首次在 Windows Phone 仿真程序中运行 Windows Phone 应用时，会发生以下事件：  
  
1.  仿真程序将启动。  
  
2.  仿真程序将加载 Windows Phone 操作系统。  
  
3.  仿真程序将显示 Windows Phone“开始”屏幕。  
  
4.  应用将部署到仿真程序。  
  
5.  应用将在仿真程序上运行。  
  
 若选定的仿真程序已在运行，将部署应用并且该应用将在运行的仿真程序上启动。每次只能运行每个仿真程序的一个实例。  
  
> [!TIP]
>  若要在仿真程序上测试应用，请在调试会话之间将仿真程序保持为打开状态，以便能够再次快速运行该应用。  
  
###  <a name="BKMK_vs"></a> 从 Visual Studio 运行应用  
  
##### 从 Visual Studio 部署并运行应用  
  
1.  在 Visual Studio 中，打开 Windows Phone 项目。  
  
2.  在**“标准”**工具栏上，选择一个仿真程序选项。  
  
     ![Windows Phone 仿真程序图像列表](../cross-platform/media/wp_emulator_list.png "WP\_Emulator\_list")  
  
3.  若要在调试时部署并运行应用，则在**“调试”**菜单上，单击**“开始调试”**，或者按 F5。  
  
     若要不进行调试而直接部署并运行应用，则在**“调试”**菜单上，单击**“开始执行\(不调试\)”**，或者按 Ctrl\+F5。  
  
     已部署并启动你的应用。  
  
     若要不运行而直接部署你的应用，则在**“生成”**菜单上，单击**“部署解决方案”**。  
  
##### 停止正在运行的应用  
  
-   若要停止正在运行的应用，请执行下列操作之一：  
  
    -   在 Visual Studio 中，在**“调试”**菜单上，单击**“停止调试”**，或按 Shift\+F5。  
  
    -   在仿真程序中，按**“返回”**按钮退出该应用。如果应用的活动页面不是该应用的开始页面，你可能需要多次按**“后退”**按钮。  
  
     应用将退出并打开“开始”屏幕。此操作将结束当前调试会话。  
  
##### 不进行调试而直接重新启动应用  
  
1.  在仿真程序中，在“开始”屏幕上向左滑动以查看应用列表。  
  
2.  在应用列表中，点击应用图标。应用将不进行调试而直接重新启动。  
  
##### 停用正在运行的应用  
  
1.  在运行应用之前，在 Visual Studio 中右击“解决方案资源管理器”中的项目，然后选择**“属性”**以打开**“项目设计器”**。  
  
2.  若要在停用应用时使其进入休眠状态，请在**“项目设计器”**的**“调试”**页面上将**“在调试期间停用时逻辑删除”**复选框保留为未选中状态。若要在停用应用时将其逻辑删除，请选中该复选框。  
  
3.  在**“调试”**菜单上，单击**“开始调试”**，或按 F5 运行应用。  
  
4.  在仿真程序中，按**“启动”**按钮。将显示“开始”屏幕并停用应用。应用将进入休眠状态或被逻辑删除，具体取决于**“在调试期间停用时逻辑删除”**复选框的设置。  
  
##### 重新激活处于睡眠状态或被逻辑删除的应用  
  
-   在仿真程序中，按**“返回”**按钮返回到该应用。如果已导航至其他页面或已打开其他应用，你可能需要多次按**“后退”**按钮才能重新激活该应用。  
  
     调试会话将会恢复。如果调试器已从应用分离，你可能需要按 F5 以恢复调试会话。  
  
###  <a name="BKMK_depltool"></a> 使用应用程序部署工具运行应用  
 你还可以使用 Windows Phone 应用程序部署工具 \(**AppDeploy.exe**\) 在仿真程序中运行你的应用。该工具是安装 Windows Phone 开发工具时安装的一个独立应用。  
  
 有关详细信息，请参阅[使用应用程序部署工具部署 Windows Phone 8.1 应用](../Topic/Deploy%20Windows%20Phone%208.1%20apps%20with%20the%20Application%20Deployment%20tool.md)。  
  
##  <a name="BKMK_toolbar"></a> 通过仿真程序工具栏配置 Windows Phone 仿真程序  
 以下屏幕截图显示了仿真程序工具栏上可用的配置按钮。  
  
 f21574ab-5970-4b7a-9281-c13073bf6767  
  
|工具栏按钮|配置选项|  
|-----------|----------|  
|![Windows Phone 仿真程序工具栏上的输入选项](../debugger/media/wp_emulator_.png "WP\_Emulator\_")|**配置单点或多点输入**<br /><br /> 当启用多点输入时，可右击以移动触摸点，而无需触摸屏幕。然后你可以左击以同时移动这两个触摸点。|  
|![Windows Phone 仿真程序工具栏上的“方向”](../debugger/media/wp_emulator_rotation.png "WP\_Emulator\_rotation")|**配置仿真程序的方向**<br /><br /> 可以在 Windows Phone 仿真程序中将方向更改为以下三种方向之一：纵向、横向朝左或横向朝右。在更改方向时不会更改仿真程序的大小。<br /><br /> 若要更改方向，请单击**“向左旋转”**按钮或**“向右旋转”**按钮。|  
|![Windows Phone 仿真程序工具栏上的大小选项](../debugger/media/wp_emulator_size.png "WP\_Emulator\_size")|**配置仿真程序的大小**<br /><br /> 可以在主机屏幕上更改仿真程序的大小。仿真程序的每英寸点数 \(DPI\) 以主机监视器 DPI 为基础，无论缩放值如何。<br /><br /> -   若要使仿真程序适合屏幕的大小，请单击**“适应屏幕”**按钮。<br />-   若要更改缩放设置，请单击**“缩放”**按钮。将打开**“缩放”**对话框。在**“缩放”**对话框中，输入 33 到 100 之间的缩放值。|  
  
##  <a name="BKMK_buttons"></a> 在仿真程序上使用模拟的硬件按钮  
 通过使用仿真程序屏幕右侧的模拟的硬件按钮，可模拟手机的硬件按钮的使用。  
  
-   单击**“电源”**按钮以模拟关闭和打开显示器。单击并按住以模拟关闭手机。  
  
-   单击**“提高音量”**或**“降低音量”**按钮以模拟更改手机呼叫和通知时的手机扬声器的音量。  
  
-   **“相机”**按钮会启动相机应用。可使用相机应用中的控件模拟拍摄照片或视频。  
  
 以下屏幕截图显示了模拟的硬件按钮。  
  
1.  左侧图像将在仿真程序上显示“开始”屏幕。  
  
2.  中间的图像将在点击**“电源”**按钮后显示仿真程序，以关闭显示器。  
  
3.  右侧图像将在点击**“提高音量”**按钮后显示仿真程序以提高音量。  
  
 ![Windows Phone 仿真程序上的按钮](../debugger/media/wp_emulator_buttons.png "WP\_Emulator\_buttons")  
  
##  <a name="BKMK_tasks_kbd"></a> 将计算机键盘与仿真程序一起使用  
 仿真程序支持开发计算机上的硬件键盘在 Windows Phone 键盘上的映射。键行为与在 Windows Phone 设备中相同。  
  
 默认情况下，不启用硬件键盘。此实现等效于使用之前必须部署的滑动键盘。在启用硬件键盘之前，仿真程序只接受控制键的键输入。  
  
 仿真程序不支持本地化版本的 Windows 开发计算机键盘上的特殊字符。若要输入本地化键盘上显示的特殊字符，请改用软件输入面板 \(SIP\)。  
  
#### 在仿真程序中使用计算机键盘  
  
-   按 PAGE UP 键。  
  
     \- 或 \-  
  
-   按 PAUSE\/BREAK 键。  
  
#### 在仿真程序中停止使用计算机硬件键盘  
  
-   按 PAGE DOWN 键。  
  
     \- 或 \-  
  
-   按 PAUSE\/BREAK 键。  
  
 下表列出了可用于模拟 Windows Phone 上的按钮和其他控件的硬件键盘上的键。  
  
|计算机硬件键|Windows Phone 硬件按钮|注释|  
|------------|------------------------|--------|  
|F1|BACK|长按可实现预期效果。|  
|F2|START|长按可实现预期效果。|  
|F3|SEARCH||  
|F4|不适用。||  
|F5|不适用。||  
|F6|CAMERA HALF|半按专用相机按钮。|  
|F7|CAMERA FULL|专用相机按钮。|  
|F8|不适用。||  
|F9|VOLUME UP||  
|F10|VOLUME DOWN||  
|F11|不适用。||  
|F12|POWER|按两次 F12 键可启用锁定屏幕。<br /><br /> 长按可实现预期效果。|  
|ESC|BACK|长按可实现预期效果。|  
|PAUSE\/BREAK|切换键盘|切换硬件键盘。|  
|PAGE UP|键盘向上键|启用硬件键盘。|  
|PAGE DOWN|键盘向下键|禁用硬件键盘。|  
  
##  <a name="BKMK_checkpoints"></a> 保存并加载自定义检查点  
 通过使用仿真程序的**“附加工具”**的**“检查点”**选项卡，保存仿真程序状态的快照。若经常使用相同数据和设置来测试应用，则该功能是有用的。  
  
 例如，如果你的应用需要多个联系人信息，则你可以创建一个联系人记录并保存仿真程序的快照。否则，你必须在每次启动仿真程序时重建联系人记录。  
  
-   单击**“新检查点”**，捕获需要数据和设置的仿真程序状态的新快照，以便之后再次测试应用。向**“检查点”**列表添加新检查点。  
  
     无法在将调试器附加到仿真程序时捕获检查点。  
  
-   在**“检查点”**列表中选择某个检查点以查看有关检查点的信息。  
  
-   在**“默认”**列中选择单选按钮，以使保存的检查点成为活动仿真程序的默认检查点。  
  
-   单击**“还原”**，以在仿真程序上重新启动 Windows Phone 操作系统，并加载选定的快照。  
  
-   单击**“删除”**，删除不再需要的快照。  
  
 原始仿真程序图像始终显示为**“检查点”**列表中的首个项目，并且无法更改或删除。但是，你可以选择不同的快照作为默认的仿真程序图像。  
  
 ![Windows Phone 仿真程序的“检查点”选项卡](../debugger/media/wp_emulator_checkpoints.png "WP\_Emulator\_checkpoints")  
  
##  <a name="BKMK_tasks_shot"></a> 在仿真程序中捕获屏幕快照  
 通过使用“附加工具”窗口中的屏幕快照工具，可创建 Windows Phone 应用的屏幕快照。该工具可创建与正在运行的仿真程序的分辨率相匹配的 PNG 文件。  
  
 ![来自 Windows Phone 仿真程序的屏幕快照](../debugger/media/wp_emulator_screenshots.png "WP\_Emulator\_screenshots")  
  
#### 使用内置仿真程序屏幕快照工具创建应用屏幕快照  
  
1.  若要优化屏幕快照的质量，请将仿真程序的缩放级别设置为 100%。设置的缩放级别越高，屏幕快照的质量越好。  
  
2.  在仿真程序中启动应用。  
  
3.  在仿真程序工具栏上，单击展开按钮以打开**“附加工具”**窗口。  
  
4.  单击**“屏幕快照”**选项卡。  
  
5.  应用已准备就绪时，请单击**“捕获”**按钮。  
  
     屏幕快照将显示在工作区中。  
  
6.  单击**“保存”**按钮以打开**“另存为”**对话框。  
  
7.  选择所需的位置和**“文件名”**，然后单击**“保存”**。  
  
8.  或者，导航至应用中的其他页面并捕获其他屏幕快照。  
  
9. 启动具有其他屏幕分辨率的仿真程序，以使用不同的分辨率捕获相同的屏幕快照。如果在调试情况下运行应用，则必须先停止调试才能在其他仿真程序上再次运行该应用。  
  
 在捕获要提交到 Windows Phone 应用商店的屏幕快照之前，请禁用仿真程序屏幕上的帧速率计数器。  
  
#### 在捕获屏幕快照之前禁用仿真程序中的帧速率计数器  
  
-   在 Visual Studio 中指定发布版本。在指定发布版本之后，通过选择**“生成”**菜单中的**“部署”*\[应用名称\]***链接启动你的应用。  
  
-   另外，你可以注释 app.xaml.cs 或 app.xaml.vb 文件中的代码行，以将 `EnableFrameRateCounter` 的值设置为 `true`。