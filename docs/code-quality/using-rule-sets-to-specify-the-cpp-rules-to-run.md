---
title: "使用规则集指定要运行的 C++ 规则 | Microsoft Docs"
ms.custom: ""
ms.date: "12/16/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-devops-test"
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: ac3877e6-5349-4c03-9541-3d5be259f1e8
caps.latest.revision: 5
caps.handback.revision: 5
author: "corob-msft"
ms.author: "corob"
manager: "ghogen"
---
# 使用规则集指定要运行的 C++ 规则
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

在 [!INCLUDE[vsPreShort](../code-quality/includes/vspreshort_md.md)]和 [!INCLUDE[vsUltShort](../code-quality/includes/vsultshort_md.md)]中，可以创建和修改自定义规则集，以满足与代码分析相关联的特定项目需要。  若要创建自定义规则集由 C\+\+，C\/C\+\+ 项目必须是已在 Visual Studio IDE。  请在规则集编辑器中打开一标准规则集然后递增或 Delete 特定规则并且选择发生更改的操作，当代码分析确定违反规则定义。  
  
 若要创建新的自定义规则集，请使用新文件名保存它。  自定义规则集会自动分配给项目。  
  
## 打开规则集编辑器  
  
#### 从单个现有规则集创建自定义规则  
  
1.  在“解决方案资源管理器”中，打开项目的快捷菜单，然后选择**“属性”**。  
  
2.  在**“属性”**选项卡中，选择**“代码分析”**。  
  
3.  在**“规则集”**下拉列表中，执行以下操作之一：  
  
    -   选择要自定义的规则集。  
  
     \- 或 \-  
  
    -   选择**\<浏览...\>**指定列表外部的现有规则集。  
  
4.  选择**“打开”**以在规则集编辑器中显示规则。  
  
#### 在规则集编辑器中修改规则集  
  
-   若要更改规则集的显示名称，请在**“视图”**菜单上选择**“属性窗口”**。  在**“名称”**框中输入显示名称。  请注意，显示名称可以与文件名不同。  
  
-   若要将组的所有规则添加到自定义规则集，请选中组的复选框。  若要移除组的所有规则，请清除该复选框。  
  
-   若要将特定规则添加到自定义规则集，请选中该规则的复选框。  若要从规则集内移除规则，请清除该复选框。  
  
-   若要更改在代码分析运行中违反规则时应采取的操作，请选择规则的**“操作”**字段，然后选择下列值之一：  
  
     **Warn** \- 生成警告。  
  
     **Error** \- 生成错误。  
  
     **None** \- 禁用规则。  此操作相当于从规则集内移除规则。  
  
#### 使用规则集编辑器工具栏对规则集编辑器中的字段进行分组、筛选或更改  
  
-   若要在所有组中展开规则，请选择**“全部展开”**。  
  
-   若要在所有组中折叠规则，请选择**“全部折叠”**。  
  
-   若要更改规则分组所依据的字段，请从**“分组依据”**列表中选择字段。  若要显示未分组的规则，请选择\<“\<无\>”\>。  
  
-   若要在规则列中添加或移除字段，请选择**“列选项”**。  
  
-   若要隐藏不适用于当前解决方案的规则，请选择**“隐藏不适用于当前解决方案的规则”**。  
  
-   若要切换显示和隐藏分配了“错误”操作的规则，请选择**“显示可以生成代码分析错误的规则”**。  
  
-   若要切换显示和隐藏分配了“警告”操作的规则，请选择**“显示可以生成代码分析警告的规则”**。  
  
-   若要在显示和隐藏指定了**“无”**操作的规则两种模式间进行切换，请选择**“显示未启用的规则”**。  
  
-   若要在当前规则集内添加或移除 Microsoft 默认规则集，请选择**“添加或移除子规则集”**。