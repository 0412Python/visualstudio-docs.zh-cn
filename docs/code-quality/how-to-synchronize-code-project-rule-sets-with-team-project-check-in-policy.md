---
title: "如何：将代码项目规则集与团队项目签入策略同步 | Microsoft Docs"
ms.custom: ""
ms.date: "12/03/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-devops-test"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "vs.codeanalysis.selecttfsruleset"
ms.assetid: 9b02f934-2db6-41ec-aaff-9c31ceec2f04
caps.latest.revision: 12
caps.handback.revision: 12
author: "stevehoag"
ms.author: "shoag"
manager: "wpickett"
---
# 如何：将代码项目规则集与团队项目签入策略同步
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

通过指定一个规则集，并在其中至少包含签入策略规则集中指定的规则，您就可以将代码项目的代码分析设置与团队项目的签入策略同步。  开发主管可以告诉您签入策略规则集的名称和位置。  您可以使用以下某个选项来确保分析项目的代码时使用正确的规则集：  
  
-   如果签入策略使用某个 Microsoft 内置规则集，则打开代码项目的属性对话框，显示“代码分析”页，并在代码项目设置的“代码分析”页上选择该规则集。  Microsoft 标准规则集自动随Visual Studio一起安装，且设置为只读，不能编辑。  如果未编辑过规则集，则可以保证策略中的规则和本地规则集是匹配的。  
  
-   如果签入策略使用自定义规则集，则对版本控制中的规则集文件执行 get 操作以创建本地副本。  然后，在代码项目的代码分析设置中指定该本地位置。  如果签入策略的规则集是最新的，则可以保证规则是匹配的。  
  
     如果将版本控制位置映射到某个本地文件夹，并且该文件夹与团队项目根目录的关系与代码项目相同，则使用相对路径来设置规则的位置。  相对路径确保可将代码分析的代码项目设置移至其他计算机。  
  
-   为代码项目签入策略的规则集自定义一个副本。  确保新的规则集包含签入策略的所有规则以及其他要包括的规则。  必须确保您的规则集包括签入策略规则集中的所有规则。  
  
### 指定 Microsoft 标准规则集  
  
1.  在**“解决方案资源管理器”**中右击代码项目，然后单击**“属性”**。  
  
2.  单击**“代码分析”**。  
  
3.  在**“运行此规则集”**列表中，单击签入策略规则集。  
  
### 指定自定义签入策略规则集  
  
1.  如有必要，对指定签入策略的规则集文件执行 get 操作。  
  
2.  在**“解决方案资源管理器”**中右击代码项目，然后单击**“属性”**。  
  
3.  单击**“代码分析”**。  
  
4.  在“运行此规则集”列表中，单击\<浏览...\>.  
  
5.  在**“打开”**对话框中，指定签入策略规则集文件。  
  
### 为代码项目创建自定义规则集  
  
1.  按照本主题前面的某个过程操作，在项目设置对话框的“代码分析”页上选择团队项目的签入策略。  
  
2.  单击“打开”。  
  
3.  使用规则集编辑器添加或移除规则。  
  
     有关详细信息，请参阅[创建自定义规则集](../code-quality/creating-custom-code-analysis-rule-sets.md)。  
  
4.  将修改后的规则集保存到本地计算机上的 .ruleset 文件或保存到 UNC 路径。  
  
5.  打开代码项目的属性对话框，并显示**“代码分析”**页。  
  
6.  在“运行此规则集”列表中，单击\<浏览...\>.  
  
7.  在**“打开”**对话框中，指定规则集文件。